<?xml version="1.0" encoding="UTF-8" ?>

<!--
  ~ Open Source Software published under the Apache Licence, Version 2.0.
  -->

<project name="VocabHunter Packaging" basedir=""
         xmlns:fx="javafx:com.sun.javafx.tools.ant">

    <property environment="env"/>
    <property name="JAVA_HOME" value="${env.JAVA_HOME}"/>

    <target name="jfxbundle" description="Build the application bundle">

        <taskdef resource="com/sun/javafx/tools/ant/antlib.xml"
                 uri="javafx:com.sun.javafx.tools.ant"
                 classpath="${JAVA_HOME}/lib/ant-javafx.jar"/>

        <fx:deploy outdir="${basedir}/build"
                   nativeBundles="${packageType}">

            <fx:platform basedir=""/>

            <fx:application id="VocabHunterId"
                            name="VocabHunter"
                            mainClass="${mainClass}"
                            version="${version}"/>

            <fx:resources>
                <fx:fileset dir="${basedir}/build/libs"/>
            </fx:resources>

            <fx:info title="VocabHunter">
                <fx:association description="VocabHunter session"
                                extension="wordy"
                                mimetype="application/x-vnd.VocabHunterSession"
                                icon="${sessionIcon}"/>
            </fx:info>

            <fx:bundleArgument arg="icon"
                               value="${appIcon}"/>

            <fx:bundleArgument arg="mac.CFBundleVersion"
                               value="${version}"/>

            <fx:bundleArgument arg="launcher-cfg-format"
                               value="prop"/>

        </fx:deploy>

    </target>

</project>
